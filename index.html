<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Todo List</title>
<style>
  :root {
    --light-bg: #f0f4f8;
    --light-card: #ffffff;
    --light-text: #1f2937;
    --light-input: #e5e7eb;
    --light-btn: #3b82f6;
    --light-btn-hover: #2563eb;
    --dark-bg: #0f172a;
    --dark-card: #1e293b;
    --dark-text: #f8fafc;
    --dark-input: #334155;
    --dark-btn: #7c5cff;
    --dark-btn-hover: #6848e6;
  }

  * { box-sizing:border-box; margin:0; padding:0; font-family:'Poppins', sans-serif; }
  body { background: var(--dark-bg); color: var(--dark-text); min-height:100vh; display:flex; justify-content:center; align-items:flex-start; padding:50px; transition:0.4s; }
  .container { width:100%; max-width:500px; background: var(--dark-card); backdrop-filter: blur(20px); padding:30px; border-radius:25px; box-shadow:0 15px 40px rgba(0,0,0,0.5); transition:0.4s; }

  h2 { text-align:center; font-size:34px; margin-bottom:30px; font-weight:800; background: linear-gradient(135deg,#ff80ff,#7c5cff); -webkit-background-clip:text; color:transparent; letter-spacing:1px; }

  .input-area { display:flex; gap:12px; margin-bottom:25px; }
  input { flex:1; padding:14px; border:none; border-radius:15px; outline:none; font-size:16px; background: var(--dark-input); color: var(--dark-text); transition:0.3s; }
  input:focus { background: rgba(255,255,255,0.15); }

  button { padding:14px 20px; border:none; border-radius:15px; cursor:pointer; font-size:15px; font-weight:600; transition:0.3s; }
  #addBtn { background: var(--dark-btn); color:white; }
  #addBtn:hover { background: var(--dark-btn-hover); transform: translateY(-2px); }

  .task { display:flex; justify-content:space-between; align-items:center; background: rgba(255,255,255,0.05); padding:15px; border-radius:15px; margin-bottom:15px; animation:fadeIn 0.3s ease; box-shadow:0 3px 15px rgba(0,0,0,0.3); transition:0.3s; }
  @keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
  .task label { display:flex; align-items:center; gap:12px; font-size:16px; }
  .completed { text-decoration:line-through; color:#9ca3af; }
  .actions button { margin-left:8px; padding:6px 12px; font-size:13px; border-radius:10px; background:#4b5563; color:white; transition:0.3s; }
  .actions button:hover { background:#6b7280; }

  .theme-toggle { margin-bottom:20px; text-align:right; }
  .theme-toggle button { background:#fbbf24; color:#111827; padding:8px 14px; border-radius:12px; font-weight:600; box-shadow:0 5px 15px rgba(0,0,0,0.2); }

  /* Light Theme */
  .light-theme body { background: var(--light-bg); color: var(--light-text); }
  .light-theme .container { background: var(--light-card); color: var(--light-text); }
  .light-theme input { background: var(--light-input); color: var(--light-text); }
  .light-theme #addBtn { background: var(--light-btn); }
  .light-theme #addBtn:hover { background: var(--light-btn-hover); }
  .light-theme .task { background: rgba(0,0,0,0.05); }
</style>
</head>
<body>
<div class="container" id="mainContainer">
  <div class="theme-toggle"><button onclick="toggleTheme()">Toggle Theme</button></div>
  <h2>âœ¨ Modern Todo List</h2>
  <div class="input-area">
    <input id="taskInput" type="text" placeholder="Add a new task..." />
    <button onclick="addTask()" id="addBtn">Add</button>
  </div>
  <h3 id="tasksHeading">Tasks</h3>
  <div id="taskList"></div>
  <h3 id="completedHeading">Completed</h3>
  <div id="completedList"></div>
</div>
<script>
let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
let darkMode = true;
let editIndex = null;
const taskInput = document.getElementById('taskInput');
const addBtn = document.getElementById('addBtn');
const tasksHeading = document.getElementById('tasksHeading');
const completedHeading = document.getElementById('completedHeading');

function save(){ localStorage.setItem("tasks", JSON.stringify(tasks)); }

function render(){
  const taskList = document.getElementById("taskList");
  const completedList = document.getElementById("completedList");
  taskList.innerHTML="";
  completedList.innerHTML="";
  let pendingExists = false;
  let completedExists = false;

  tasks.forEach((t,i)=>{
    const div = document.createElement("div");
    div.className="task";
    if(!t.done){
      div.innerHTML=`<label><input type='checkbox' onchange='toggleDone(${i})' /><span>${t.text}</span></label>
      <div class='actions'><button onclick='editTask(${i})'>Edit</button><button onclick='removeTask(${i})'>Delete</button></div>`;
      taskList.appendChild(div);
      pendingExists = true;
    } else {
      div.innerHTML=`<span class='completed'>${t.text}</span>
      <div class='actions'><button onclick='uncheck(${i})'>Uncheck</button><button onclick='removeTask(${i})'>Delete</button></div>`;
      completedList.appendChild(div);
      completedExists = true;
    }
  });

  tasksHeading.style.display = pendingExists ? 'block' : 'none';
  completedHeading.style.display = completedExists ? 'block' : 'none';
}

function addTask(){
  const value = taskInput.value.trim();
  if(!value) return;
  if(editIndex !== null){
    tasks[editIndex].text = value;
    editIndex = null;
    addBtn.textContent = 'Add';
  } else {
    tasks.push({text:value,done:false});
  }
  taskInput.value = '';
  save();
  render();
}

function toggleDone(i){ tasks[i].done=true; save(); render(); }
function uncheck(i){ tasks[i].done=false; save(); render(); }
function editTask(i){
  taskInput.value = tasks[i].text;
  taskInput.focus();
  editIndex = i;
  addBtn.textContent = 'Save';
}
function removeTask(i){ tasks.splice(i,1); save(); render(); if(editIndex===i){ editIndex=null; taskInput.value=''; addBtn.textContent='Add'; } }

function toggleTheme(){
  const body = document.body;
  const container = document.getElementById('mainContainer');
  body.classList.toggle('light-theme');
  darkMode = !darkMode;
  if(darkMode){
    body.style.background = 'var(--dark-bg)';
    container.style.background = 'var(--dark-card)';
  } else {
    body.style.background = 'var(--light-bg)';
    container.style.background = 'var(--light-card)';
  }
}

render();
</script>
</body>
</html>
